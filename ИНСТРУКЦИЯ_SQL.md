# üìù –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø: –ß–¢–û –î–ï–õ–ê–¢–¨ –í SUPABASE

## üéØ –¶–ï–õ–¨:
–°–¥–µ–ª–∞—Ç—å —Ç–∞–∫ —á—Ç–æ–±—ã:
- ‚úÖ –ü–µ—Ä–≤—ã–µ 3 —É—Ä–æ–∫–∞ –ë–ï–°–ü–õ–ê–¢–ù–´–ï (–¥–æ—Å—Ç—É–ø–Ω—ã –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
- ‚ùå –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —É—Ä–æ–∫–∏ –ü–õ–ê–¢–ù–´–ï (—Ç—Ä–µ–±—É—é—Ç –æ–ø–ª–∞—Ç—É)
- ‚úÖ –ü–æ—Å–ª–µ –û–î–ù–û–ô –æ–ø–ª–∞—Ç—ã ‚Üí –í–°–ï —É—Ä–æ–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –ù–ê–í–°–ï–ì–î–ê
- ‚úÖ –ù–æ–≤—ã–µ —É—Ä–æ–∫–∏ –∏–∑ –∞–¥–º–∏–Ω–∫–∏ —Ç–æ–∂–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã

---

## üìã –®–ê–ì –ó–ê –®–ê–ì–û–ú:

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π Supabase
1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ https://supabase.com
2. –ù–∞–∂–º–∏ "Sign in"
3. –í—ã–±–µ—Ä–∏ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç (AI Learning Platform)

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π SQL Editor
1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏ **"SQL Editor"**
2. –ù–∞–∂–º–∏ –Ω–∞ –Ω–µ–≥–æ
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è —Ä–µ–¥–∞–∫—Ç–æ—Ä SQL

### –®–∞–≥ 3: –°–∫–æ–ø–∏—Ä—É–π —ç—Ç–æ—Ç SQL
```sql
-- –ü–ï–†–í–´–ï 3 –£–†–û–ö–ê = –ë–ï–°–ü–õ–ê–¢–ù–´–ï
UPDATE courses 
SET is_free = true 
WHERE id IN (1, 2, 3);

-- –í–°–ï –û–°–¢–ê–õ–¨–ù–´–ï = –ü–õ–ê–¢–ù–´–ï
UPDATE courses 
SET is_free = false 
WHERE id > 3;
```

### –®–∞–≥ 4: –í—Å—Ç–∞–≤—å –≤ SQL Editor
1. –ù–∞–∂–º–∏ **"New query"** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
2. –í—Å—Ç–∞–≤—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–π SQL –≤ –æ–∫–Ω–æ
3. –ù–∞–∂–º–∏ **"Run"** (–∑–µ–ª–µ–Ω–∞—è –∫–Ω–æ–ø–∫–∞) –∏–ª–∏ Cmd+Enter

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
–°–∫–æ–ø–∏—Ä—É–π –∏ –≤—ã–ø–æ–ª–Ω–∏ —ç—Ç–æ—Ç SQL:
```sql
SELECT id, title, is_free 
FROM courses 
ORDER BY id 
LIMIT 10;
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```
id | title   | is_free
1  | –£—Ä–æ–∫ 1  | true   ‚Üê –ë–ï–°–ü–õ–ê–¢–ù–´–ô ‚úÖ
2  | –£—Ä–æ–∫ 2  | true   ‚Üê –ë–ï–°–ü–õ–ê–¢–ù–´–ô ‚úÖ
3  | –£—Ä–æ–∫ 3  | true   ‚Üê –ë–ï–°–ü–õ–ê–¢–ù–´–ô ‚úÖ
4  | –£—Ä–æ–∫ 4  | false  ‚Üê –ü–õ–ê–¢–ù–´–ô ‚ùå
5  | –£—Ä–æ–∫ 5  | false  ‚Üê –ü–õ–ê–¢–ù–´–ô ‚ùå
6  | –£—Ä–æ–∫ 6  | false  ‚Üê –ü–õ–ê–¢–ù–´–ô ‚ùå
```

### –®–∞–≥ 6: –û—á–∏—Å—Ç–∏ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞
1. –û—Ç–∫—Ä–æ–π —Å–∞–π—Ç
2. –ù–∞–∂–º–∏ **Cmd+Shift+R** (Mac) –∏–ª–∏ **Ctrl+Shift+F5** (Windows)
3. –≠—Ç–æ "–∂–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞" - –æ—á–∏—Å—Ç–∏—Ç –∫–µ—à

---

## ‚úÖ –ü–û–°–õ–ï –≠–¢–û–ì–û –ë–£–î–ï–¢ –†–ê–ë–û–¢–ê–¢–¨ –¢–ê–ö:

### –ë–µ–∑ –≤—Ö–æ–¥–∞ (–≥–æ—Å—Ç—å):
```
–£—Ä–æ–∫ 1 ‚Üí ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
–£—Ä–æ–∫ 2 ‚Üí ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
–£—Ä–æ–∫ 3 ‚Üí ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
–£—Ä–æ–∫ 4 ‚Üí ‚ùå –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login
–£—Ä–æ–∫ 6 ‚Üí ‚ùå –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /login
```

### –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –ë–ï–ó –æ–ø–ª–∞—Ç—ã:
```
–£—Ä–æ–∫ 1 ‚Üí ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
–£—Ä–æ–∫ 2 ‚Üí ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
–£—Ä–æ–∫ 3 ‚Üí ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
–£—Ä–æ–∫ 4 ‚Üí ‚ùå –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /payment
–£—Ä–æ–∫ 6 ‚Üí ‚ùå –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /payment
```

### –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –° –æ–ø–ª–∞—Ç–æ–π:
```
–£—Ä–æ–∫ 1 ‚Üí ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
–£—Ä–æ–∫ 2 ‚Üí ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
–£—Ä–æ–∫ 3 ‚Üí ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
–£—Ä–æ–∫ 4 ‚Üí ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚Üê –¢–ï–ü–ï–†–¨ –î–û–°–¢–£–ü–ï–ù!
–£—Ä–æ–∫ 6 ‚Üí ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚Üê –¢–ï–ü–ï–†–¨ –î–û–°–¢–£–ü–ï–ù!
–£—Ä–æ–∫ 100 ‚Üí ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚Üê –¢–ï–ü–ï–†–¨ –î–û–°–¢–£–ü–ï–ù!
–£—Ä–æ–∫ 1000 ‚Üí ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è ‚Üê –¢–ï–ü–ï–†–¨ –î–û–°–¢–£–ü–ï–ù!

–í–°–ï –£–†–û–ö–ò –î–û–°–¢–£–ü–ù–´! üéâ
```

---

## üîÑ –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢ –õ–û–ì–ò–ö–ê –û–ü–õ–ê–¢–´:

### 1Ô∏è‚É£ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è:
```sql
-- –í —Ç–∞–±–ª–∏—Ü–µ profiles —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å:
subscription_status = 'free'  ‚Üê –ë–ï–ó –æ–ø–ª–∞—Ç—ã
```

### 2Ô∏è‚É£ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç $399:
```sql
-- Stripe webhook –æ–±–Ω–æ–≤–ª—è–µ—Ç –∑–∞–ø–∏—Å—å:
subscription_status = 'premium'  ‚Üê –° –æ–ø–ª–∞—Ç–æ–π ‚úÖ
subscription_end_date = '2025-11-10'
```

### 3Ô∏è‚É£ –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø:
```typescript
// –í AuthContext:
hasPaid = (subscription_status === 'premium')

// –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —É—Ä–æ–∫–∞:
if (—É—Ä–æ–∫ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π) {
  ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ–º
} else if (user.hasPaid === true) {
  ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ–º –í–°–ï –ø–ª–∞—Ç–Ω—ã–µ —É—Ä–æ–∫–∏
} else {
  ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /payment
}
```

---

## üí° –í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´:

### ‚úÖ –û–î–ò–ù –†–ê–ó –û–ü–õ–ê–¢–ò–õ = –ù–ê–í–°–ï–ì–î–ê –î–û–°–¢–£–ü
```
–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã:
- hasPaid = true
- –í–°–ï –ø–ª–∞—Ç–Ω—ã–µ —É—Ä–æ–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã
- –í–∫–ª—é—á–∞—è –ë–£–î–£–©–ò–ï —É—Ä–æ–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–∏—à—å
- –ü–û–ñ–ò–ó–ù–ï–ù–ù–´–ô –¥–æ—Å—Ç—É–ø
```

### üÜï –ù–û–í–´–ï –£–†–û–ö–ò –ò–ó –ê–î–ú–ò–ù–ö–ò
```
–ö–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—à—å –Ω–æ–≤—ã–π —É—Ä–æ–∫:
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é is_free = false (–ø–ª–∞—Ç–Ω—ã–π)
- –ó–Ω–∞—á–∏—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ —Ç–µ–º –∫—Ç–æ –æ–ø–ª–∞—Ç–∏–ª
- –ù–ï –Ω—É–∂–Ω–æ –Ω–∏—á–µ–≥–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å!
```

### üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
```
–õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –∫–æ–¥–µ:
1. –ü—Ä–æ–≤–µ—Ä—è–µ–º is_free —É—Ä–æ–∫–∞
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º user.hasPaid
3. –ï—Å–ª–∏ hasPaid = true ‚Üí –¥–æ—Å—Ç—É–ø –∫–æ –í–°–ï–ú –ø–ª–∞—Ç–Ω—ã–º —É—Ä–æ–∫–∞–º

–ù–µ–ª—å–∑—è –æ–±–æ–π—Ç–∏:
- –ù–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—å URL
- –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å localStorage
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–¥–µ—Ç —á–µ—Ä–µ–∑ Supabase
```

---

## üß™ –ö–ê–ö –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–¢–¨:

### –¢–µ—Å—Ç 1: –ë–µ–∑ –≤—Ö–æ–¥–∞
```bash
1. –í—ã–π–¥–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞ (Logout)
2. –û—Ç–∫—Ä–æ–π: /courses/level/1  ‚úÖ –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è
3. –û—Ç–∫—Ä–æ–π: /courses/level/6  ‚ùå –î–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ /login
```

### –¢–µ—Å—Ç 2: –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –ë–ï–ó –æ–ø–ª–∞—Ç—ã
```bash
1. –í–æ–π–¥–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç
2. –û—Ç–∫—Ä–æ–π: /courses/level/1  ‚úÖ –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è
3. –û—Ç–∫—Ä–æ–π: /courses/level/6  ‚ùå –î–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ /payment
```

### –¢–µ—Å—Ç 3: –ü–æ—Å–ª–µ –û–ü–õ–ê–¢–´
```bash
1. –û–ø–ª–∞—Ç–∏ –∫—É—Ä—Å ($399 –∏–ª–∏ $0.99 —Ç–µ—Å—Ç)
2. –û—Ç–∫—Ä–æ–π: /courses/level/1  ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
3. –û—Ç–∫—Ä–æ–π: /courses/level/6  ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ë–ï–ó —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞!
4. –û—Ç–∫—Ä–æ–π: /courses/level/100  ‚úÖ –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ë–ï–ó —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞!

üéâ –í–°–Å –†–ê–ë–û–¢–ê–ï–¢!
```

---

## üìä –ü–†–û–í–ï–†–ö–ê –í –ë–ê–ó–ï –î–ê–ù–ù–´–•:

### –ü—Ä–æ–≤–µ—Ä—å —Ç–∞–±–ª–∏—Ü—É courses:
```sql
SELECT id, title, is_free 
FROM courses 
ORDER BY id;
```

### –ü—Ä–æ–≤–µ—Ä—å —Ç–∞–±–ª–∏—Ü—É profiles:
```sql
SELECT email, subscription_status, subscription_end_date
FROM profiles;
```

### –ü—Ä–æ–≤–µ—Ä—å —Ç–∞–±–ª–∏—Ü—É payments (–ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã):
```sql
SELECT user_id, amount, status, created_at
FROM payments
ORDER BY created_at DESC
LIMIT 5;
```

---

## ‚ùì –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢:

### –ü—Ä–æ–±–ª–µ–º–∞: "–£—Ä–æ–∫ 6 —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ login"
**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª SQL
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ is_free = false –¥–ª—è —É—Ä–æ–∫–∞ 6
3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Cmd+Shift+R)

### –ü—Ä–æ–±–ª–µ–º–∞: "–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã —É—Ä–æ–∫ 6 –≤—Å—ë —Ä–∞–≤–Ω–æ —Ç—Ä–µ–±—É–µ—Ç –æ–ø–ª–∞—Ç—É"
**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –ù–∞–ø–∏—à–∏: `console.log(user.hasPaid)`
3. –ï—Å–ª–∏ false:
   - –ü—Ä–æ–≤–µ—Ä—å Supabase ‚Üí profiles ‚Üí subscription_status
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 'premium'
   - –ï—Å–ª–∏ 'free' - webhook –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª
4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Cmd+Shift+R)

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
**–†–µ—à–µ–Ω–∏–µ:**
- is_free –ù–ï –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —è–∑—ã–∫–∞
- –≠—Ç–æ –û–î–ò–ù —Ñ–ª–∞–≥ –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤
- –ü—Ä–æ–±–ª–µ–º–∞ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –≤ –∫–µ—à–µ
- –°–¥–µ–ª–∞–π Hard Refresh (Cmd+Shift+R)

---

## ‚úÖ –ò–¢–û–ì–û:

**–í–´–ü–û–õ–ù–ò –í SUPABASE:**
```sql
UPDATE courses SET is_free = true WHERE id IN (1, 2, 3);
UPDATE courses SET is_free = false WHERE id > 3;
```

**–†–ï–ó–£–õ–¨–¢–ê–¢:**
- ‚úÖ –ü–µ—Ä–≤—ã–µ 3 —É—Ä–æ–∫–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ
- ‚ùå –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–Ω—ã–µ
- ‚úÖ –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –í–°–ï –¥–æ—Å—Ç—É–ø–Ω—ã
- ‚úÖ –ù–æ–≤—ã–µ —É—Ä–æ–∫–∏ —Ç–æ–∂–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
- ‚úÖ –ü–æ–∂–∏–∑–Ω–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø

**–í–°–Å –ì–û–¢–û–í–û! –ë–û–õ–¨–®–ï –ù–ò–ß–ï–ì–û –ù–ï –ù–£–ñ–ù–û!** üéâ
