-- üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –°–£–©–ï–°–¢–í–£–Æ–©–ò–• –£–†–û–ö–û–í
-- –¢–≤–æ–∏ —É—Ä–æ–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –ë–ï–ó –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∫—É—Ä—Å—É, –ø–æ—ç—Ç–æ–º—É –æ–Ω–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è!

-- ============================================
-- –®–ê–ì 1: –ü–†–û–í–ï–†–ò–¢–¨ –ü–†–û–ë–õ–ï–ú–£
-- ============================================

-- –°–º–æ—Ç—Ä–∏–º —É—Ä–æ–∫–∏ –±–µ–∑ course_category_id
SELECT 
  id,
  title,
  course_category_id,
  is_free
FROM courses
WHERE course_category_id IS NULL;

-- –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Ç–≤–æ–∏ 2 —É—Ä–æ–∫–∞ (gregr –∏ Sara)

-- ============================================
-- –®–ê–ì 2: –ò–°–ü–†–ê–í–ò–¢–¨ –£–†–û–ö–ò
-- ============================================

-- –í–ê–†–ò–ê–ù–¢ 1: –ü—Ä–∏–≤—è–∑–∞—Ç—å –ü–ï–†–í–´–ô —É—Ä–æ–∫ –∫ –∫—É—Ä—Å—É "–°–∞–π—Ç—ã" (id=1)
UPDATE courses
SET course_category_id = 1
WHERE id = 1  -- –∑–∞–º–µ–Ω–∏ –Ω–∞ ID —Å–≤–æ–µ–≥–æ —É—Ä–æ–∫–∞
AND course_category_id IS NULL;

-- –í–ê–†–ò–ê–ù–¢ 2: –ü—Ä–∏–≤—è–∑–∞—Ç—å –í–¢–û–†–û–ô —É—Ä–æ–∫ –∫ –∫—É—Ä—Å—É "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è" (id=2)
UPDATE courses
SET course_category_id = 2
WHERE id = 2  -- –∑–∞–º–µ–Ω–∏ –Ω–∞ ID —Å–≤–æ–µ–≥–æ —É—Ä–æ–∫–∞
AND course_category_id IS NULL;

-- ============================================
-- –ò–õ–ò –ú–ê–°–°–û–í–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï:
-- ============================================

-- –í—Å–µ —É—Ä–æ–∫–∏ –ë–ï–ó –∫—É—Ä—Å–∞ –ø—Ä–∏–≤—è–∑–∞—Ç—å –∫ "–°–∞–π—Ç—ã" (id=1)
UPDATE courses
SET course_category_id = 1
WHERE course_category_id IS NULL;

-- ============================================
-- –®–ê–ì 3: –ü–†–û–í–ï–†–ò–¢–¨ –†–ï–ó–£–õ–¨–¢–ê–¢
-- ============================================

-- –°–º–æ—Ç—Ä–∏–º –≤—Å–µ —É—Ä–æ–∫–∏ —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –∫—É—Ä—Å—É
SELECT 
  c.id,
  c.title,
  cc.title as course_name,
  cc.icon,
  c.is_free
FROM courses c
LEFT JOIN course_categories cc ON c.course_category_id = cc.id
ORDER BY c.id;

-- ============================================
-- –®–ê–ì 4: –ü–†–û–í–ï–†–ò–¢–¨ –°–ß–Å–¢–ß–ò–ö–ò
-- ============================================

-- –°–º–æ—Ç—Ä–∏–º —Å—á—ë—Ç—á–∏–∫–∏ —É—Ä–æ–∫–æ–≤ –≤ –∫–∞–∂–¥–æ–º –∫—É—Ä—Å–µ
SELECT 
  id,
  slug,
  title,
  icon,
  total_lessons
FROM course_categories
ORDER BY display_order;

-- –°—á—ë—Ç—á–∏–∫–∏ –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

-- ============================================
-- –ì–û–¢–û–í–û! ‚úÖ
-- ============================================
-- –¢–µ–ø–µ—Ä—å:
-- ‚úÖ –£—Ä–æ–∫–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –∫—É—Ä—Å–∞–º
-- ‚úÖ –°—á—ë—Ç—á–∏–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
-- ‚úÖ –£—Ä–æ–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞ /courses
-- ‚úÖ –í –∞–¥–º–∏–Ω–∫–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä –ø–æ –∫—É—Ä—Å–∞–º
